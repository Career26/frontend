import{b as Y}from"/build/_shared/chunk-5NMT3SXO.js";import{a as j,b as me}from"/build/_shared/chunk-LK2IODK6.js";import{a as Ve}from"/build/_shared/chunk-R3UJVCPU.js";import"/build/_shared/chunk-WFOEOJ23.js";import{A as We,a as Pe,b as xe,c as Ee,d as we,e as z,f as K,g as ee,h as ke,i as be,j as _,k as Ie,l as Se,m as Fe,n as Te,o as Re,p as H,q as Ae,r as Ne,s as Oe,w as f,y as De}from"/build/_shared/chunk-EKS5ZLJE.js";import{$ as ne,$b as q,Aa as u,Ba as Z,Bb as ye,C as se,Da as ce,Ea as R,Ib as ge,Kb as Ce,Wb as he,aa as y,ac as ve,da as V,db as de,ea as $,eb as ue,ib as fe,jb as M,la as le,na as b,oa as T,pa as g,qa as Q,sa as U,xa as pe}from"/build/_shared/chunk-2W7QTXDV.js";import{e as s,g as G,s as l}from"/build/_shared/chunk-R7DKMHBB.js";var S=s(G(),1);var $e=s(G(),1);var Be=({activeStep:e})=>{let{careerTestStorage:{formValues:t}}=H(),n=(0,$e.useMemo)(()=>{if(e===0)return["latestDegree","additionalDegrees",`additionalDegrees.${j}`];if(e===1)return["previousWorkExperience",`previousWorkExperience.${j}`];if(e===2)return["areasOfInterest","expectedSalary"]},[e]),a=me({initialValues:t,validateInputOnChange:!0,validate:{latestDegree:{name:r=>!r&&"Course name is required",university:r=>!r&&"University is required",grade:r=>!r&&"Grade is required",level:r=>!r&&"Level is required",rating:r=>!r&&"Rating is required",ratingReason:r=>r?r.length>500?"Maximum character length is 300":null:"You must provide a reason for the rating"},additionalDegrees:{name:r=>!r&&"Course name is required",university:r=>!r&&"University is required"},previousWorkExperience:{role:r=>!r&&"Role is required",experienceName:r=>!r&&"Experience name is required",experienceType:r=>!r&&"Experience type is required",ratingReason:r=>r?r.length>500?"Maximum character length is 300":null:"You must provide a reason for the rating",rating:r=>!r&&"Rating is required"},areasOfInterest:r=>r.length?r.length>3?"You can only choose up to three areas of interest":null:"You must select at least one area of interest",personalityType:{workValue:r=>!r&&"You must provide a preferred career value",workStyle:r=>!r&&"You must provide a preferred work style"},expectedSalary:{expectedSalary:r=>r?Number.isNaN(r)?"Expected starting salary must be a number":r<0?"Expected starting salary cannot be negative":null:"Expected starting salary is required"}}});return{form:a,checkFormIsValid:()=>(a.validate(),!n?.some(r=>!a.isValid(r)))}};var B=s(l(),1),A=({label:e,onClick:t})=>(0,B.jsx)(y,{py:"sm",children:(0,B.jsxs)(b,{leftSection:(0,B.jsx)(fe,{}),color:"red",onClick:t,children:["Remove ",e]})});var N=s(l(),1),E=({title:e,children:t})=>(0,N.jsxs)(T,{radius:"md",p:"md",withBorder:!0,children:[e&&(0,N.jsx)(T.Section,{withBorder:!0,inheritPadding:!0,py:"xs",bg:"navy",c:"white",children:(0,N.jsx)(y,{justify:"center",children:(0,N.jsx)($,{fw:"bold",size:"lg",children:e})})}),t]});var h=s(l(),1),re=({form:e,baseKey:t,title:n})=>{let a=e.getInputProps(`${t}.rating`).value,o=e.getInputProps(`${t}.ratingReason`).value;return(0,h.jsxs)(E,{title:n,children:[(0,h.jsxs)("div",{className:f.row,children:[(0,h.jsx)(R,{...e.getInputProps(`${t}.university`),label:"University Name",withAsterisk:!0,w:"50%"}),(0,h.jsx)(R,{...e.getInputProps(`${t}.name`),label:"Course Name",withAsterisk:!0,w:"50%"})]}),(0,h.jsxs)("div",{className:f.row,children:[(0,h.jsx)(u,{...e.getInputProps(`${t}.grade`),label:"Achieved/Expected Grade",data:Se,withAsterisk:!0,placeholder:"Select a grade",w:"50%",searchable:!0}),(0,h.jsx)(u,{...e.getInputProps(`${t}.level`),label:"Degree",data:Ie,withAsterisk:!0,searchable:!0,placeholder:"Select a level",w:"50%"})]}),(0,h.jsx)(u,{...e.getInputProps(`${t}.rating`),label:"Course Rating",data:_,placeholder:"Select a rating",py:"xs",searchable:!0,withAsterisk:!0}),(0,h.jsx)(U,{...e.getInputProps(`${t}.ratingReason`),label:Y(a,o?.length),minRows:3,autosize:!0,py:"xs",withAsterisk:!0})]})};var O={workLifeCheckbox:"uu7zG",result:"zzihJ",typeWriter:"ShpDe",loader:"HDNoF",container:"O9Hqh"};var v=s(l(),1),Le=({form:e})=>{let t=e.values.additionalDegrees.length,n=()=>{e.setFieldValue("additionalDegrees",[...e.values.additionalDegrees,Fe])},a=o=>{e.setFieldValue("additionalDegrees",e.values.additionalDegrees.filter((r,m)=>m!==o))};return(0,v.jsxs)(g,{py:"md",className:O.container,children:[(0,v.jsx)(re,{form:e,baseKey:"latestDegree",title:"Your Education History"}),[...Array(t).keys()].map(o=>{let r=`additionalDegrees.${o}`;return(0,v.jsxs)("div",{children:[(0,v.jsx)(re,{form:e,baseKey:r}),o+1!==t&&(0,v.jsx)(A,{onClick:()=>a(o),label:"University"})]},r)}),(0,v.jsxs)(y,{py:"md",justify:t?"space-between":"flex-end",children:[t&&(0,v.jsx)(A,{label:"University",onClick:()=>a(t-1)}),(0,v.jsx)(b,{leftSection:(0,v.jsx)(M,{}),onClick:n,children:"Add Another University"})]})]})};var I=s(l(),1),Ke=e=>{let t=ee.find(n=>n.value===e)?.label;switch(e){case"VOLUNTEERING":return"Organisation";case"OTHER":case void 0:return"";default:return t}},Ge=({form:e,baseKey:t,title:n})=>{let a=e.getInputProps(`${t}.rating`).value,o=e.getInputProps(`${t}.ratingReason`).value,r=e.getInputProps(`${t}.experienceType`).value,m=Ke(r);return(0,I.jsxs)(E,{title:n,children:[(0,I.jsxs)("div",{className:f.row,children:[(0,I.jsx)(u,{...e.getInputProps(`${t}.experienceType`),withAsterisk:!0,label:"Type",placeholder:"Select experience type",data:ee,w:"50%",searchable:!0}),(0,I.jsx)(R,{...e.getInputProps(`${t}.experienceName`),label:`${m} Name`,withAsterisk:!0,py:"xs",w:"50%"})]}),(0,I.jsx)(R,{...e.getInputProps(`${t}.role`),label:"Role",withAsterisk:!0}),(0,I.jsx)(u,{...e.getInputProps(`${t}.rating`),withAsterisk:!0,label:"What did you think of this role?",data:_,placeholder:"Select a rating",py:"xs",searchable:!0}),(0,I.jsx)(U,{...e.getInputProps(`${t}.ratingReason`),label:Y(a,o.length),minRows:3,autosize:!0,withAsterisk:!0,py:"xs"})]})};var w=s(l(),1),Ue=({form:e})=>{let t=e.values.previousWorkExperience.length,n=()=>{e.setFieldValue("previousWorkExperience",[...e.values.previousWorkExperience,Te])},a=o=>{e.setFieldValue("previousWorkExperience",e.values.previousWorkExperience.filter((r,m)=>m!==o))};return(0,w.jsxs)(g,{py:"md",className:O.container,children:[[...Array(t).keys()].map(o=>{let r=`previousWorkExperience.${o}`;return(0,w.jsxs)("div",{children:[(0,w.jsx)(Ge,{title:o===0?"Your Previous Experience":void 0,form:e,baseKey:r},r),o>0&&o+1!==t&&(0,w.jsx)(A,{onClick:()=>a(o),label:"Experience"})]},r)}),(0,w.jsxs)(y,{py:"md",justify:t>1?"space-between":"flex-end",children:[t>1&&(0,w.jsx)(A,{label:"Experience",onClick:()=>a(t-1)}),(0,w.jsx)(b,{leftSection:(0,w.jsx)(M,{}),onClick:n,children:"Add Another Experience"})]})]})};var X=s(G(),1);var te=s(l(),1),Me=({form:e})=>{let[t,n]=(0,X.useState)(""),a=`Add "${t}"`,o=(0,X.useMemo)(()=>t?[...K,a]:K,[t]),r=m=>{let d=m.reduce((i,C)=>C===a?[...i,t]:[...i,C],[]);e.setFieldValue("areasOfInterest",d),n("")};return(0,te.jsx)("div",{children:(0,te.jsx)(ce,{py:"xs",...e.getInputProps("areasOfInterest"),data:o,onChange:r,clearable:!0,onInput:({target:{value:m}})=>n(m),withAsterisk:!0,placeholder:"Enter interest",label:"Press Enter to add an interest",description:"Add up to 3 interests"})})};var k=s(l(),1),qe=({form:e})=>{let t=z.find(a=>a.value===e.values.expectedSalary.city)?.Icon,n=a=>{let o=z.find(r=>r.value===a);o&&(e.setFieldValue("expectedSalary.city",o.value),e.setFieldValue("expectedSalary.baseCurrency",o.baseCurrency))};return(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{className:f.row,children:[(0,k.jsx)(u,{...e.getInputProps("personalityType.workStyle"),label:"What is your preferred working style?",withAsterisk:!0,data:ke,w:"50%"}),(0,k.jsx)(u,{...e.getInputProps("personalityType.workValue"),label:"What do you value the most in a career?",withAsterisk:!0,data:be,w:"50%"})]}),(0,k.jsxs)("div",{className:f.row,children:[(0,k.jsx)(u,{...e.getInputProps("expectedSalary.city"),label:"City",data:z,withAsterisk:!0,onChange:n,w:"50%"}),(0,k.jsx)(pe,{...e.getInputProps("expectedSalary.expectedSalary"),label:"What is your expected starting salary?",withAsterisk:!0,thousandSeparator:",",leftSection:t&&(0,k.jsx)(t,{color:"gray",size:20}),w:"50%"})]})]})};var D=s(l(),1),Ye=({form:e})=>(0,D.jsx)(g,{py:"md",children:(0,D.jsxs)(E,{title:"Preferences",children:[(0,D.jsx)(Me,{form:e}),(0,D.jsx)(qe,{form:e})]})});var _e=s(G(),1);var P=s(l(),1),ze=({title:e,color:t,industry:n,selected:a,loading:o,salary:r,role:m,onClick:d})=>(0,P.jsxs)(T,{padding:"lg",withBorder:!0,h:"100%",children:[(0,P.jsx)(T.Section,{withBorder:!0,inheritPadding:!0,py:"xs",className:f.lightNavyBg,children:(0,P.jsxs)(y,{justify:"space-between",children:[(0,P.jsx)($,{fw:"bold",children:e}),(0,P.jsx)(ne,{loading:o,onClick:d,variant:"transparent",children:(0,P.jsx)(de,{size:50,fill:a?"red":"transparent",color:a?"red":"navy"})})]})}),(0,P.jsxs)(y,{justify:"space-between",py:"sm",children:[(0,P.jsx)($,{fw:"bold",children:r}),(0,P.jsx)(le,{color:t,children:n})]}),m]});var W=s(l(),1),He=({careerPaths:e,profileId:t})=>{let n=ve(he),{toggleSelectedCareer:a,selectedCareers:o,loadingCareers:r}=De(),m=q();return(0,_e.useEffect)(()=>{let d=Object.values(e||{}).map(i=>i.industry);m(Ce(d))},[e]),(0,W.jsx)(g,{py:"md",children:(0,W.jsx)(E,{title:"Select Your Favourite Career Paths",children:(0,W.jsx)(Q,{py:"lg",grow:!0,children:Object.entries(e||{}).map(([d,{title:i,startingSalary:C,industry:x,role:J}])=>{let L=o[d];return(0,W.jsx)(Q.Col,{span:{md:6},className:O.result,children:(0,W.jsx)(ze,{salary:C,loading:r[d],role:J,selected:L,industry:x,title:i,color:n[x],onClick:()=>a({careerIdentifier:d,profileIdentifier:t,selected:!L})})},`career-path-${d}`)})})})})};var p=s(l(),1),er=Object.entries(Pe).map(([e,t])=>({label:e,value:t})),Xe=({form:e})=>(0,p.jsx)(g,{py:"md",children:(0,p.jsxs)(E,{title:"Diversity and Inclusion (Optional)",children:[(0,p.jsx)("div",{className:f.row,children:(0,p.jsx)(V,{w:"100%",children:(0,p.jsxs)(V.Item,{value:"why",children:[(0,p.jsx)(V.Control,{icon:(0,p.jsx)(ue,{}),children:"Why do we ask for this information?"}),(0,p.jsxs)(V.Panel,{children:["We use the answer to:",(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:"Provide you with career options you may not have considered"}),(0,p.jsx)("li",{children:"Match you with mentors from shared backgrounds"})]})]})]})})}),(0,p.jsx)("div",{className:f.row,children:(0,p.jsx)(u,{...e.getInputProps("diversity.firstGeneration"),w:"100%",label:"Are you the first generation in your family to attend univeristy?",data:er,searchable:!0})}),(0,p.jsx)("div",{className:f.row,children:(0,p.jsx)(u,{...e.getInputProps("diversity.schoolType"),w:"100%",label:"What was the main type of school you attended for your secondary education?",data:Object.entries(xe).map(([t,n])=>({label:t,value:n})),searchable:!0})}),(0,p.jsx)("div",{className:f.row,children:(0,p.jsx)(u,{...e.getInputProps("diversity.ethnicity"),w:"100%",label:"What is your ethnicity?",data:Object.entries(Ee).map(([t,n])=>({label:t,value:n})),searchable:!0})}),(0,p.jsx)("div",{className:f.row,children:(0,p.jsx)(u,{...e.getInputProps("diversity.gender"),w:"100%",label:"What is your current gender identity?",data:Object.entries(we).map(([t,n])=>({label:t,value:n})),searchable:!0})})]})});var c=s(l(),1),rr=["Education","Experience","Preferences","Diversity","Career Paths"],tr=()=>{let e=q(),{authenticated:t}=Ae(),[n,{data:a,isLoading:o,error:r}]=ye(),{storeTestValues:m,careerTestStorage:d}=H(),[i,C]=(0,S.useState)(d.step),{form:x,checkFormIsValid:J}=Be({activeStep:i}),{isMobile:L}=Ne(),{associateProfile:Je,loading:oe}=Oe();(0,S.useEffect)(()=>{let F=i>=5?5:i;m({key:"step",value:F})},[i]),(0,S.useEffect)(()=>{if(r){console.error(`create profile error - ${JSON.stringify(r)}`),se.show({title:"Profile Generation Error",message:"Could not create profile, please try again later",color:"red"}),C(3);return}a?.careerPaths&&(m({key:"profileId",value:a.identifier}),m({key:"careerPaths",value:a.careerPaths}),C(i+1))},[a,r]);let ie=(0,S.useMemo)(()=>!t||i!==5?"Next":"Save",[t,i]),Qe=(0,S.useMemo)(()=>i===5?"Retake Test":"Back",[i]),Ze=()=>{if(ie==="Save"){Je(d.profileId);return}let F=J();m({key:"formValues",value:x.values}),F&&(x.clearErrors(),i===3&&(m({key:"careerPaths",value:void 0}),n(x.values)),i===5?e(ge({open:!t,associateProfileId:d?.profileId,initialState:"signUp"})):C(i+1))},je=()=>{i===5?C(i-2):C(i-1)};return(0,c.jsx)(We,{children:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g,{children:(0,c.jsx)(Z,{active:i,onStepClick:C,py:"md",children:rr.map((F,ae)=>(0,c.jsx)(Z.Step,{label:!L&&F,loading:ae===4&&o,disabled:ae>i},`stepper-${F}`))})}),(0,c.jsx)(g,{py:"md",children:o?(0,c.jsx)(Ve,{text:Re}):(0,c.jsxs)(c.Fragment,{children:[i===0&&(0,c.jsx)(Le,{form:x}),i===1&&(0,c.jsx)(Ue,{form:x}),i===2&&(0,c.jsx)(Ye,{form:x}),i===3&&(0,c.jsx)(Xe,{form:x}),(i===4||i===5)&&(0,c.jsx)(He,{careerPaths:d.careerPaths,profileId:d.profileId}),(0,c.jsxs)(y,{justify:"center",children:[(0,c.jsx)(b,{onClick:je,disabled:i===0||o,variant:"light",children:Qe}),(0,c.jsx)(b,{onClick:Ze,disabled:o||oe,loading:o||oe,variant:"outline",children:ie})]})]})})]})})},or=tr;export{or as default};
